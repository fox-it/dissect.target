# Generated by cstruct-stubgen
from typing import BinaryIO, Literal, TypeAlias, overload

import dissect.cstruct as __cs__

class _c_ndb(__cs__.cstruct):
    NDB_HEADER_MAGIC: Literal[1349349458] = ...
    NDB_DB_VERSION: Literal[0] = ...
    NDB_SLOT_MAGIC: Literal[1953459283] = ...
    NDB_BLOB_MAGIC: Literal[1398959170] = ...
    NDB_SLOT_PAGE_SIZE: Literal[4096] = ...
    NDB_BLOB_HEADER_SIZE: Literal[16] = ...
    NDB_SLOT_ENTRIES_PER_PAGE: Literal[256] = ...
    class Header(__cs__.Structure):
        magic: _c_ndb.uint32
        version: _c_ndb.uint32
        generation: _c_ndb.uint32
        num_pages: _c_ndb.uint32
        @overload
        def __init__(
            self,
            magic: _c_ndb.uint32 | None = ...,
            version: _c_ndb.uint32 | None = ...,
            generation: _c_ndb.uint32 | None = ...,
            num_pages: _c_ndb.uint32 | None = ...,
        ): ...
        @overload
        def __init__(self, fh: bytes | memoryview | bytearray | BinaryIO, /): ...

    class SlotEntry(__cs__.Structure):
        magic: _c_ndb.uint32
        pkg_index: _c_ndb.uint32
        blk_offset: _c_ndb.uint32
        blk_count: _c_ndb.uint32
        @overload
        def __init__(
            self,
            magic: _c_ndb.uint32 | None = ...,
            pkg_index: _c_ndb.uint32 | None = ...,
            blk_offset: _c_ndb.uint32 | None = ...,
            blk_count: _c_ndb.uint32 | None = ...,
        ): ...
        @overload
        def __init__(self, fh: bytes | memoryview | bytearray | BinaryIO, /): ...

    class Blob(__cs__.Structure):
        magic: _c_ndb.uint32
        pkg_index: _c_ndb.uint32
        checksum: _c_ndb.uint32
        size: _c_ndb.uint32
        @overload
        def __init__(
            self,
            magic: _c_ndb.uint32 | None = ...,
            pkg_index: _c_ndb.uint32 | None = ...,
            checksum: _c_ndb.uint32 | None = ...,
            size: _c_ndb.uint32 | None = ...,
        ): ...
        @overload
        def __init__(self, fh: bytes | memoryview | bytearray | BinaryIO, /): ...

    class SlotPage(__cs__.Structure):
        class SlotEntry(__cs__.Structure):
            magic: _c_ndb.uint32
            pkg_index: _c_ndb.uint32
            blk_offset: _c_ndb.uint32
            blk_count: _c_ndb.uint32
            @overload
            def __init__(
                self,
                magic: _c_ndb.uint32 | None = ...,
                pkg_index: _c_ndb.uint32 | None = ...,
                blk_offset: _c_ndb.uint32 | None = ...,
                blk_count: _c_ndb.uint32 | None = ...,
            ): ...
            @overload
            def __init__(self, fh: bytes | memoryview | bytearray | BinaryIO, /): ...

        entries: __cs__.Array[SlotEntry]
        @overload
        def __init__(self, entries: __cs__.Array[SlotEntry] | None = ...): ...
        @overload
        def __init__(self, fh: bytes | memoryview | bytearray | BinaryIO, /): ...

# Technically `c_ndb` is an instance of `_c_ndb`, but then we can't use it in type hints
c_ndb: TypeAlias = _c_ndb
